<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Projeta+</title>
  <!-- Link para o arquivo CSS separado -->
  <link rel="stylesheet" href="../CSS/style.css">
</head>
<body>
  <div class="container">

    <h1>
      Central de Comandos
    </h1>
    <p>Navegue pelo menu para ver as opções e clique no botão desejado para abrir as ações:</p>
    <hr>

    <!-- ACCORDION BLOCKS -->
    <div class="accordion-block" data-id="uteis">
      <button class="accordion">Úteis</button>
      <div class="panel">
        <button onclick="sketchup.criar_camadas_padrao()">Camadas Padrão</button>
        <button onclick="sketchup.cenas_zoom()">Atualizar Zoom</button>
        <button onclick="sketchup.importar_margem()">Importar Margem</button>
      </div>
    </div>

    <div class="accordion-block" data-id="renderizacao">
      <button class="accordion">Renderização</button>
      <div class="panel">
        <button onclick="sketchup.imagem_inicial()">Imagem Inicial (Escolher Render)</button>
        <button onclick="sketchup.adicionar_imagem()">Adicionar Imagem</button>
        <button onclick="sketchup.atualizar_imagem()">Atualizar Imagem</button>
        <button onclick="sketchup.exportar_imagens()">Exportar Imagens</button>
        <button onclick="sketchup.aplicar_sombra()">Ajustar Sol e Sombra</button>

      </div>
    </div>

    <div class="accordion-block" data-id="detalhamento">
      <button class="accordion">Detalhamento</button>
      <div class="panel">
        <button onclick="sketchup.isolar_marcenaria()">Isolar Marcenaria</button>
        <button onclick="sketchup.detalhamento_marcenaria()">Adicionar Detalhe (DET-XX)</button>
        <button onclick="sketchup.detalhamento()">Cenas dos Detalhamentos</button>
        <button onclick="sketchup.perspectivetoggle()">Girar Ângulo da Perspectiva</button>
        <button onclick="sketchup.detalhes_extras()">Adicionar Detalhe Extra</button>
        <button onclick="sketchup.duplicar_cenas()">Variante de Cena - Vista</button>
        <button onclick="sketchup.duplicar_cenas_cortes()">Variante de Cena - Corte</button>
        <button onclick="sketchup.hide_door()">Ocultar Portas</button>
      </div>
    </div>

    <div class="accordion-block" data-id="cenas-basicas">
      <button class="accordion">Cenas Básicas</button>
      <div class="panel">
        <button onclick="sketchup.cena_geral()">Cena Geral</button>
        <button onclick="sketchup.cena_desenhar()">Cena Desenho (Sem teto)</button>
        <button onclick="sketchup.cena_etiquetar()">Categorizar e Etiquetar</button>
        <button onclick="sketchup.cena_planos()">Planos de Secão</button>
      </div>
    </div>

    <div class="accordion-block" data-id="plantas-principais">
      <button class="accordion">Plantas Principais</button>
      <div class="panel">
        <button onclick="sketchup.cena_base()">Base (obrigatória)</button>
        <button onclick="sketchup.cena_layout()">Layout</button>
        <button onclick="sketchup.cena_arq()">Arquitetura</button>
        <button onclick="sketchup.cena_arq_piso()">Arquitetura com Piso</button>
        <button onclick="sketchup.cena_mobi()">Mobiliário (Sobreposição)</button>
      </div>
    </div>

    <div class="accordion-block" data-id="cortes-vistas">
      <button class="accordion">Cortes e Vistas</button>
      <div class="panel">
        <button onclick="sketchup.criar_cortes_padroes()">Cortes Auto - A B C D</button>
        <button onclick="sketchup.corte_individual()">Corte Individual</button>
        <button onclick="sketchup.atualizar_todos_cortes()">Atualizar Cortes</button>
        <button onclick="sketchup.cortes_tecnicos()">Cortes Técnicos</button>
      </div>
    </div>

    <div class="accordion-block" data-id="civil">
      <button class="accordion">Civil</button>
      <div class="panel">
        <button onclick="sketchup.cena_civil()">Completa</button>
        <button onclick="sketchup.cena_construir()">Construir</button>
        <button onclick="sketchup.cena_demolir()">Demolir</button>
        <button onclick="sketchup.cena_drywall()">Drywall</button>
      </div>
    </div>

    <div class="accordion-block" data-id="revestimentos">
      <button class="accordion">Revestimentos</button>
      <div class="panel">
        <button onclick="sketchup.cena_revestimentos()">Revestimentos</button>
      </div>
    </div>

    <div class="accordion-block" data-id="tecnicos">
      <button class="accordion">Pontos Técnicos</button>
      <div class="panel">
        <button onclick="sketchup.cena_pontostec()">Completa</button>
        <button onclick="sketchup.cena_eletrica()">Elétrica</button>
        <button onclick="sketchup.cena_hidro()">Hidraulica</button>
        <button onclick="sketchup.cena_climatizacao()">Climatização</button>
      </div>
    </div>

    <div class="accordion-block" data-id="iluminacao-forro">
      <button class="accordion">Iluminação e Forro</button>
      <div class="panel">
        <button onclick="sketchup.cena_iluminacao()">Iluminação</button>
        <button onclick="sketchup.cena_iluminacao_cir()">Iluminação e Circuitos</button>
        <button onclick="sketchup.cena_forro()">Forro</button>
        <button onclick="sketchup.cena_forro_cores()">Forro por Cor</button>
      </div>
    </div>

    <div class="accordion-block" data-id="marcenaria-marmoraria">
      <button class="accordion">Marcenaria e Marmoraria</button>
      <div class="panel">
        <button onclick="sketchup.cena_marcenaria()">Marcenaria</button>
        <button onclick="sketchup.cena_marmoraria()">Marmoraria</button>
      </div>
    </div>

    <div class="accordion-block" data-id="arquitetonico">
      <button class="accordion">Arquitetônico</button>
      <div class="panel">
        <button onclick="sketchup.gerar_fachadas()">Fachadas e Cobertura</button>
        <button onclick="sketchup.atu_cortes_arq()">Atualizar para Corte Arquitetônico</button>
      </div>
    </div>
  </div>

  <footer>
      <p>Desenvolvido por 
        <a href="https://francielimadeira.com" target="_blank" 
           style="text-decoration: none; color: #666; font-weight: bold;">
          Francieli Madeira
        </a> 
        (C) 2025. Todos os direitos reservados. VERSÃO 1.0 (08/08/25)
      </p>
    </footer>

  <!-- Script de Accordion e Drag-and-Drop -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const container = document.querySelector(".container");
      let dragged;

      // Accordion toggle
      const accordions = document.getElementsByClassName("accordion");
      for (let i = 0; i < accordions.length; i++) {
        accordions[i].addEventListener("click", function () {
          this.classList.toggle("active");
          const panel = this.nextElementSibling;
          panel.style.display = panel.style.display === "block" ? "none" : "block";
        });
      }

      // Drag and drop logic
      document.querySelectorAll(".accordion-block").forEach(block => {
        block.draggable = true;

        block.addEventListener("dragstart", (e) => {
          dragged = block;
          e.dataTransfer.effectAllowed = "move";
        });

        block.addEventListener("dragover", (e) => {
          e.preventDefault();
        });

        block.addEventListener("drop", (e) => {
          e.preventDefault();
          if (dragged !== block) {
            const all = Array.from(container.querySelectorAll(".accordion-block"));
            const draggedIndex = all.indexOf(dragged);
            const targetIndex = all.indexOf(block);

            if (draggedIndex < targetIndex) {
              block.after(dragged);
            } else {
              block.before(dragged);
            }

            salvarOrdem();
          }
        });
      });

      function salvarOrdem() {
        const ordem = Array.from(document.querySelectorAll(".accordion-block"))
          .map(b => b.getAttribute("data-id"));
        localStorage.setItem("ordem-accordions", JSON.stringify(ordem));
      }

      function carregarOrdem() {
        const ordemSalva = JSON.parse(localStorage.getItem("ordem-accordions"));
        if (!ordemSalva) return;

        const mapa = {};
        document.querySelectorAll(".accordion-block").forEach(block => {
          mapa[block.getAttribute("data-id")] = block;
        });

        ordemSalva.forEach(id => {
          if (mapa[id]) container.appendChild(mapa[id]);
        });
      }

      carregarOrdem();
    });
  </script>

</body>
</html>
